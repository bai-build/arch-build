pkgbase = caffe2-git
	pkgdesc = A new lightweight, modular, and scalable deep learning framework
	pkgver = 0.8.2.r34802.g01b15570145
	pkgrel = 1
	epoch = 1
	url = https://caffe2.ai/
	arch = x86_64
	license = BSD
	makedepends = git
	makedepends = cmake
	makedepends = gtest
	makedepends = snappy
	makedepends = cuda
	makedepends = cudnn
	makedepends = nccl
	makedepends = pybind11
	makedepends = qt5-base
	depends = google-glog
	depends = protobuf
	depends = openmp
	depends = python
	depends = python-numpy
	depends = python-protobuf
	depends = python-typing_extensions
	depends = python-yaml
	depends = blas
	depends = lapack
	depends = gflags
	depends = numactl
	depends = intel-mkl
	depends = opencv
	depends = libuv
	optdepends = python-flask
	optdepends = graphviz
	optdepends = python-hypothesis
	optdepends = python-matplotlib
	optdepends = python-pydot
	optdepends = python-nvd3
	optdepends = python-yaml
	optdepends = python-requests
	optdepends = python-scikit-image
	optdepends = python-scipy
	optdepends = python-setuptools
	optdepends = python-future
	optdepends = python-tornado
	optdepends = python-six
	optdepends = python-lmdb
	conflicts = python-pytorch
	options = !emptydirs
	source = git+https://github.com/pytorch/pytorch.git
	source = git+https://github.com/pybind/pybind11.git
	source = cub-nvlabs::git+https://github.com/NVlabs/cub.git
	source = git+https://github.com/eigenteam/eigen-git-mirror.git
	source = git+https://github.com/google/googletest.git
	source = git+https://github.com/google/benchmark.git
	source = protobuf-protocolbuffers::git+https://github.com/protocolbuffers/protobuf.git
	source = git+https://github.com/Yangqing/ios-cmake.git
	source = git+https://github.com/Maratyszcza/NNPACK.git
	source = git+https://github.com/facebookincubator/gloo.git
	source = git+https://github.com/Maratyszcza/pthreadpool.git
	source = git+https://github.com/Maratyszcza/FXdiv.git
	source = git+https://github.com/Maratyszcza/FP16.git
	source = git+https://github.com/Maratyszcza/psimd.git
	source = git+https://github.com/facebook/zstd.git
	source = cpuinfo-pytorch::git+https://github.com/pytorch/cpuinfo.git
	source = git+https://github.com/PeachPy/enum34.git
	source = git+https://github.com/Maratyszcza/PeachPy.git
	source = git+https://github.com/benjaminp/six.git
	source = git+https://github.com/onnx/onnx.git
	source = git+https://github.com/onnx/onnx-tensorrt.git
	source = git+https://github.com/shibatch/sleef.git
	source = git+https://github.com/intel/ideep.git
	source = git+https://github.com/NVIDIA/nccl.git
	source = git+https://github.com/google/gemmlowp.git
	source = git+https://github.com/pytorch/QNNPACK.git
	source = git+https://github.com/intel/ARM_NEON_2_x86_SSE.git
	source = git+https://github.com/pytorch/fbgemm.git
	source = git+https://github.com/houseroad/foxi.git
	source = git+https://github.com/01org/tbb.git
	source = git+https://github.com/facebookincubator/fbjni.git
	source = git+https://github.com/google/XNNPACK.git
	source = git+https://github.com/fmtlib/fmt.git
	source = git+https://github.com/pytorch/tensorpipe.git
	source = git+https://github.com/pytorch/kineto.git
	source = git+https://github.com/asmjit/asmjit.git
	source = git+https://github.com/01org/mkl-dnn.git
	source = git+https://github.com/emil-e/rapidcheck.git
	source = git+https://github.com/libuv/libuv.git
	source = git+https://github.com/google/libnop.git
	source = 010-caffe2-fix-include-system-path.patch
	source = 020-caffe2-use-system-libuv.patch
	source = 030-caffe2-disable-non-x86_64.patch
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = d926cdacdbddf2334ac8b49602d9e1b12afb01c63a7dd0fb303dbc5d987c0ead
	sha256sums = 497225e56a88a2c2f65eac4d6240297e42abb298654ad843a70c3c5a10d7170c
	sha256sums = 7385ac0742f00245c3bd7560e33648566a25b950964806c55b6c3eaee25981ac

pkgname = caffe2-git
	pkgdesc = A new lightweight, modular, and scalable deep learning framework (cpu only, git version)
	provides = caffe2
	provides = caffe2-cpu-git
	conflicts = python-pytorch
	conflicts = caffe2
	conflicts = caffe2-cpu-git
	replaces = caffe2-cpu-git

pkgname = caffe2-cuda-git
	pkgdesc = A new lightweight, modular, and scalable deep learning framework (with cuda support, git version)
	depends = google-glog
	depends = protobuf
	depends = openmp
	depends = python
	depends = python-numpy
	depends = python-protobuf
	depends = python-typing_extensions
	depends = python-yaml
	depends = blas
	depends = lapack
	depends = gflags
	depends = numactl
	depends = intel-mkl
	depends = opencv
	depends = libuv
	depends = cuda
	depends = cudnn
	depends = nccl
	provides = caffe2
	provides = caffe2-git
	provides = caffe2-cuda
	conflicts = python-pytorch
	conflicts = caffe2

