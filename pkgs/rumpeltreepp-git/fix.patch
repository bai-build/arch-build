--- /home/arthur/Desktop/CMakeLists.txt	2014-08-11 21:52:43.324048186 +0300
+++ CMakeLists.txt	2014-08-12 06:41:08.600682249 +0300
@@ -5,6 +5,7 @@
 #include(CheckFunctionExists)
 include(CheckLibraryExists)
 project(rumpeltree++ CXX)
+set (CMAKE_INSTALL_PREFIX /usr/)
 set(prefix      ${CMAKE_INSTALL_PREFIX})
 set(exec_prefix ${CMAKE_INSTALL_PREFIX})
 set(libdir      ${CMAKE_INSTALL_PREFIX}/lib)
@@ -39,36 +40,6 @@
 	string.cpp)
 add_library(rumpeltree++ SHARED ${rumpeltree++_SOURCES})
 SET_TARGET_PROPERTIES(rumpeltree++ PROPERTIES VERSION 0.1.1 SOVERSION 2)
-target_link_libraries(rumpeltree++ crypto++)
+target_link_libraries(rumpeltree++ cryptopp pthread)
 install_targets(/lib rumpeltree++)
-install(FILES rumpelstiltskin.hpp DESTINATION include)
-add_executable(randomsecrettest test_random_secret.cpp)
-target_link_libraries(randomsecrettest rumpeltree++)
-add_test(tests.randomsecret randomsecrettest)
-add_executable(randomsecrettest2 test_random_secret2.cpp)
-target_link_libraries(randomsecrettest2 rumpeltree++)
-add_test(tests.randomsecret2 randomsecrettest2)
-add_executable(storagepath1test test_storage_path1.cpp)
-target_link_libraries(storagepath1test rumpeltree++)
-add_test(tests.storagepath1 storagepath1test)
-add_executable(diamondtest test_diamond.cpp)
-target_link_libraries(diamondtest rumpeltree++)
-add_test(tests.diamond diamondtest)
-add_executable(childtest test_child.cpp)
-target_link_libraries(childtest rumpeltree++)
-add_test(tests.child childtest)
-add_executable(childtest2 test_child2.cpp)
-target_link_libraries(childtest2 rumpeltree++)
-add_test(tests.child2 childtest2)
-add_executable(childtest3 test_child3.cpp)
-target_link_libraries(childtest3 rumpeltree++)
-add_test(tests.child3 childtest3)
-add_executable(cryptokeytest test_cryptokey.cpp)
-target_link_libraries(cryptokeytest rumpeltree++)
-add_test(tests.cryptokey cryptokeytest)
-add_executable(cryptokeytest2 test_cryptokey2.cpp)
-target_link_libraries(cryptokeytest2 rumpeltree++)
-add_test(tests.cryptokey2 cryptokeytest2)
-#This test executable is not meant to be run as part of the regular tests, but should be given to valgrind.
-add_executable(memtest memtest.cpp)
-target_link_libraries(memtest rumpeltree++)
+install(FILES rumpelstiltskin.hpp DESTINATION include)
\ No newline at end of file
