From 183c4161893e29f1c673dad3dd2d17d688167701 Mon Sep 17 00:00:00 2001
From: Henry Fredrick Schreiner <henry.fredrick.schreiner@cern.ch>
Date: Fri, 1 Feb 2019 08:41:47 +0100
Subject: [PATCH] Rename based fix for RConfig on case-insensitive systems

(cherry picked from commit 19e4890c9c5e42de75e3d6c63066d16a11ed1766)
---
 build/unix/module.modulemap                    | 4 +++-
 build/win/makeresource.sh                      | 2 +-
 core/base/inc/RConfig.h                        | 6 +++---
 core/base/inc/ROOT/{RConfig.h => RConfig.hxx}  | 0
 core/base/inc/RStipples.h                      | 2 +-
 core/base/inc/Rstrstream.h                     | 2 +-
 core/base/inc/RtypesCore.h                     | 2 +-
 core/base/inc/Strlen.h                         | 2 +-
 core/base/inc/TException.h                     | 2 +-
 core/base/src/String.cxx                       | 2 +-
 core/base/src/TDatime.cxx                      | 2 +-
 core/base/src/TROOT.cxx                        | 2 +-
 core/base/src/TString.cxx                      | 2 +-
 core/clib/inc/snprintf.h                       | 2 +-
 core/clib/inc/strlcpy.h                        | 2 +-
 core/clib/res/mmconfig.h                       | 2 +-
 core/clib/src/snprintf.c                       | 2 +-
 core/clib/src/strlcat.c                        | 2 +-
 core/clib/src/strlcpy.c                        | 2 +-
 core/clingutils/src/RStl.cxx                   | 2 +-
 core/clingutils/src/TClingUtils.cxx            | 2 +-
 core/dictgen/src/TModuleGenerator.cxx          | 2 +-
 core/dictgen/src/rootcling_impl.cxx            | 2 +-
 core/foundation/inc/TClassEdit.h               | 2 +-
 core/lz4/src/ZipLZ4.cxx                        | 2 +-
 core/rootcling_stage1/src/rootcling_stage1.cxx | 2 +-
 core/thread/inc/ThreadLocalStorage.h           | 2 +-
 core/unix/src/TUnixSystem.cxx                  | 2 +-
 graf2d/mathtext/src/fontembed.cxx              | 2 +-
 graf2d/mathtext/src/fontembedps.cxx            | 2 +-
 io/gfal/src/TGFALFile.cxx                      | 2 +-
 io/io/src/TFile.cxx                            | 2 +-
 main/src/hadd.cxx                              | 2 +-
 main/src/pmain.cxx                             | 2 +-
 main/src/rootcling.cxx                         | 2 +-
 misc/memstat/src/TMemStatHook.cxx              | 2 +-
 net/net/src/TApplicationServer.cxx             | 2 +-
 net/net/src/TFTP.cxx                           | 2 +-
 net/rpdutils/src/daemon.cxx                    | 2 +-
 net/rpdutils/src/net.cxx                       | 2 +-
 net/rpdutils/src/netpar.cxx                    | 2 +-
 net/rpdutils/src/rpdconn.cxx                   | 2 +-
 net/rpdutils/src/rpdutils.cxx                  | 3 ++-
 proof/proof/src/TProofServ.cxx                 | 2 +-
 proof/proof/src/TProofServLite.cxx             | 2 +-
 proof/proofd/inc/XrdProofdPlatform.h           | 2 +-
 proof/proofx/src/TXProofServ.cxx               | 2 +-
 roofit/roofitcore/inc/RooFit.h                 | 2 +-
 tree/dataframe/src/RSqliteDS.cxx               | 2 +-
 tree/dataframe/test/datasource_sqlite.cxx      | 2 +-
 tree/tree/src/TTree.cxx                        | 2 +-
 51 files changed, 55 insertions(+), 52 deletions(-)
 rename core/base/inc/ROOT/{RConfig.h => RConfig.hxx} (100%)

diff --git a/build/unix/module.modulemap b/build/unix/module.modulemap
index 5f4f685b2fb..da55cc3b54e 100644
--- a/build/unix/module.modulemap
+++ b/build/unix/module.modulemap
@@ -14,7 +14,9 @@ module ROOT_Foundation_C  {
 module ROOT_Config  {
   // These headers are supposed to be only textually expanded for each TU.
   module "RVersion.h" { textual header "RVersion.h" export * }
-  module "RConfig.h" { textual header "RConfig.h" export * }
+  module "RConfig.h" { header "RConfig.h" export * }
+  module "ROOT/RConfig.h" { header "ROOT/RConfig.h" export * }
+  module "ROOT/RConfig.hxx" { textual header "ROOT/RConfig.hxx" export * }
   module "RConfigure.h" { textual header "RConfigure.h" export * }
   // FIXME: There is little benefit in keeping DllImport as a separate header.
   // The majority of its uses already include Rtypes.h which includes DllImport.
diff --git a/build/win/makeresource.sh b/build/win/makeresource.sh
index d33a1898f32..aab7d3e6371 100755
--- a/build/win/makeresource.sh
+++ b/build/win/makeresource.sh
@@ -56,7 +56,7 @@ cat > $RC <<EOF
 // ROOT version resource file for $FILENAME
 // Generated by $0 on $DATE
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include <windows.h>
 #include <winver.h>
 
diff --git a/core/base/inc/RConfig.h b/core/base/inc/RConfig.h
index cc08a99daca..9f84c71f141 100644
--- a/core/base/inc/RConfig.h
+++ b/core/base/inc/RConfig.h
@@ -13,13 +13,13 @@
 
 /*************************************************************************
  *                                                                       *
- * Old RConfig.h forwarding to ROOT/RConfig.h                            *
+ * Old RConfig.h forwarding to ROOT/RConfig.hxx                            *
  *                                                                       *
- * Please #include ROOT/RConfig.h instead, e.g. to avoid clashes with    *
+ * Please #include ROOT/RConfig.hxx instead, e.g. to avoid clashes with    *
  * R's Rconfig.h                                                         *
  *                                                                       *
  *************************************************************************/
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #endif // ROOT_RConfig_fwd
diff --git a/core/base/inc/ROOT/RConfig.h b/core/base/inc/ROOT/RConfig.hxx
similarity index 100%
rename from core/base/inc/ROOT/RConfig.h
rename to core/base/inc/ROOT/RConfig.hxx
diff --git a/core/base/inc/RStipples.h b/core/base/inc/RStipples.h
index 341248e77c5..fe3b4f1109c 100644
--- a/core/base/inc/RStipples.h
+++ b/core/base/inc/RStipples.h
@@ -11,7 +11,7 @@
 #ifndef ROOT_Stipples
 #define ROOT_Stipples
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 //////////////////////////////////////////////////////////////////////////
 //                                                                      //
diff --git a/core/base/inc/Rstrstream.h b/core/base/inc/Rstrstream.h
index 3d059ab0bf7..5562908f54a 100644
--- a/core/base/inc/Rstrstream.h
+++ b/core/base/inc/Rstrstream.h
@@ -12,7 +12,7 @@
 #ifndef ROOT_Rstrstream
 #define ROOT_Rstrstream
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #if defined(R__ANSISTREAM)
 #  if defined(R__SSTREAM)
diff --git a/core/base/inc/RtypesCore.h b/core/base/inc/RtypesCore.h
index ed7941509c1..21fde2632bc 100644
--- a/core/base/inc/RtypesCore.h
+++ b/core/base/inc/RtypesCore.h
@@ -20,7 +20,7 @@
 //////////////////////////////////////////////////////////////////////////
 
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #include <stddef.h> // size_t, NULL
 
diff --git a/core/base/inc/Strlen.h b/core/base/inc/Strlen.h
index 085c402c6df..355780fabc4 100644
--- a/core/base/inc/Strlen.h
+++ b/core/base/inc/Strlen.h
@@ -11,7 +11,7 @@
 #ifndef ROOT_Strlen
 #define ROOT_Strlen
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #ifdef NEED_STRING
 #include <string.h>
diff --git a/core/base/inc/TException.h b/core/base/inc/TException.h
index 450cdd1e39a..0e845f0647b 100644
--- a/core/base/inc/TException.h
+++ b/core/base/inc/TException.h
@@ -29,7 +29,7 @@ struct sigjmp_buf;
 struct jmp_buf;
 #endif
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "DllImport.h"
 
 struct ExceptionContext_t {
diff --git a/core/base/src/String.cxx b/core/base/src/String.cxx
index 436104c0ad9..3661ea3c34a 100644
--- a/core/base/src/String.cxx
+++ b/core/base/src/String.cxx
@@ -15,7 +15,7 @@
 //                                                                      //
 //////////////////////////////////////////////////////////////////////////
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include <string>
 #include "TBuffer.h"
 
diff --git a/core/base/src/TDatime.cxx b/core/base/src/TDatime.cxx
index 1ef321ef448..28993d8a6de 100644
--- a/core/base/src/TDatime.cxx
+++ b/core/base/src/TDatime.cxx
@@ -24,7 +24,7 @@ date/time of data taking events and the like. If absolute time is
 required, use TTimeStamp.
 */
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #include <time.h>
 
diff --git a/core/base/src/TROOT.cxx b/core/base/src/TROOT.cxx
index 014739c355d..073b54d3d25 100644
--- a/core/base/src/TROOT.cxx
+++ b/core/base/src/TROOT.cxx
@@ -66,7 +66,7 @@ of a main program creating an interactive version is shown below:
 ~~~
 */
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "RConfigure.h"
 #include "RConfigOptions.h"
 #include "RVersion.h"
diff --git a/core/base/src/TString.cxx b/core/base/src/TString.cxx
index 31673a53b44..a4f2b65b0ce 100644
--- a/core/base/src/TString.cxx
+++ b/core/base/src/TString.cxx
@@ -35,7 +35,7 @@ as a TString, construct a TString from it, eg:
 ~~~
 */
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include <stdlib.h>
 #include <ctype.h>
 #include <list>
diff --git a/core/clib/inc/snprintf.h b/core/clib/inc/snprintf.h
index 4c8c85510ec..05466a001c8 100644
--- a/core/clib/inc/snprintf.h
+++ b/core/clib/inc/snprintf.h
@@ -10,7 +10,7 @@
 #ifndef ROOT_snprintf
 #define ROOT_snprintf
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include <stdio.h>
 
 #ifndef __CINT__
diff --git a/core/clib/inc/strlcpy.h b/core/clib/inc/strlcpy.h
index d457d4a409d..460ac9e8599 100644
--- a/core/clib/inc/strlcpy.h
+++ b/core/clib/inc/strlcpy.h
@@ -9,7 +9,7 @@
 #ifndef ROOT_strlcpy
 #define ROOT_strlcpy
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #ifndef HAS_STRLCPY
 
diff --git a/core/clib/res/mmconfig.h b/core/clib/res/mmconfig.h
index 347c506c685..7adab9a5271 100644
--- a/core/clib/res/mmconfig.h
+++ b/core/clib/res/mmconfig.h
@@ -11,7 +11,7 @@
 #ifndef MMCONFIG_H
 #define MMCONFIG_H
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #ifndef WIN32
 #  ifndef INVALID_HANDLE_VALUE
diff --git a/core/clib/src/snprintf.c b/core/clib/src/snprintf.c
index ec898bad925..b3b90e9840c 100644
--- a/core/clib/src/snprintf.c
+++ b/core/clib/src/snprintf.c
@@ -34,7 +34,7 @@
 #include <stdio.h>
 #include <string.h>
 
-#include <ROOT/RConfig.h>            /* for NEED_SNPRINTF */
+#include <ROOT/RConfig.hxx>            /* for NEED_SNPRINTF */
 
 #if defined(NEED_SNPRINTF) || defined(SNTEST)
 
diff --git a/core/clib/src/strlcat.c b/core/clib/src/strlcat.c
index cbcab1473a8..d543461531c 100644
--- a/core/clib/src/strlcat.c
+++ b/core/clib/src/strlcat.c
@@ -16,7 +16,7 @@
  * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
  */
 
-#include <ROOT/RConfig.h>            /* for HAS_STRLCPY */
+#include <ROOT/RConfig.hxx>            /* for HAS_STRLCPY */
 
 #ifndef HAS_STRLCPY
 
diff --git a/core/clib/src/strlcpy.c b/core/clib/src/strlcpy.c
index 80bc67ce221..16001845bd1 100644
--- a/core/clib/src/strlcpy.c
+++ b/core/clib/src/strlcpy.c
@@ -16,7 +16,7 @@
  * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
  */
 
-#include <ROOT/RConfig.h>            /* for HAS_STRLCPY */
+#include <ROOT/RConfig.hxx>            /* for HAS_STRLCPY */
 
 #ifndef HAS_STRLCPY
 
diff --git a/core/clingutils/src/RStl.cxx b/core/clingutils/src/RStl.cxx
index bd97c1f1300..d7e40c60cc8 100644
--- a/core/clingutils/src/RStl.cxx
+++ b/core/clingutils/src/RStl.cxx
@@ -10,7 +10,7 @@
  *************************************************************************/
 
 #include "RConfigure.h"
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #include "RStl.h"
 #include "TClassEdit.h"
diff --git a/core/clingutils/src/TClingUtils.cxx b/core/clingutils/src/TClingUtils.cxx
index 1a9eb1ca565..02abe7a6630 100644
--- a/core/clingutils/src/TClingUtils.cxx
+++ b/core/clingutils/src/TClingUtils.cxx
@@ -24,7 +24,7 @@
 #include <unordered_set>
 
 #include "RConfigure.h"
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "Rtypes.h"
 
 #include "RStl.h"
diff --git a/core/dictgen/src/TModuleGenerator.cxx b/core/dictgen/src/TModuleGenerator.cxx
index b6c35bfaa11..73b406f49c8 100644
--- a/core/dictgen/src/TModuleGenerator.cxx
+++ b/core/dictgen/src/TModuleGenerator.cxx
@@ -20,7 +20,7 @@
 
 #include "TClingUtils.h"
 #include "RConfigure.h"
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #include "cling/Interpreter/CIFactory.h"
 #include "clang/Basic/SourceManager.h"
diff --git a/core/dictgen/src/rootcling_impl.cxx b/core/dictgen/src/rootcling_impl.cxx
index d301d4c5efa..fdb2647dd76 100644
--- a/core/dictgen/src/rootcling_impl.cxx
+++ b/core/dictgen/src/rootcling_impl.cxx
@@ -167,7 +167,7 @@ const char *rootClingHelp =
 #include "rootcling_impl.h"
 
 #include "RConfigure.h"
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #include <iostream>
 #include <iomanip>
diff --git a/core/foundation/inc/TClassEdit.h b/core/foundation/inc/TClassEdit.h
index 391523d5691..fbbb7165123 100644
--- a/core/foundation/inc/TClassEdit.h
+++ b/core/foundation/inc/TClassEdit.h
@@ -13,7 +13,7 @@
 #ifndef ROOT_TClassEdit
 #define ROOT_TClassEdit
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "RConfigure.h"
 #include <stdlib.h>
 #ifdef R__WIN32
diff --git a/core/lz4/src/ZipLZ4.cxx b/core/lz4/src/ZipLZ4.cxx
index 9e7cf3b2d46..8dfcf2cde1b 100644
--- a/core/lz4/src/ZipLZ4.cxx
+++ b/core/lz4/src/ZipLZ4.cxx
@@ -10,7 +10,7 @@
 
 #include "ZipLZ4.h"
 
-#include "ROOT/RConfig.h"
+#include "ROOT/RConfig.hxx"
 
 #include <cinttypes>
 #include <cstdint>
diff --git a/core/rootcling_stage1/src/rootcling_stage1.cxx b/core/rootcling_stage1/src/rootcling_stage1.cxx
index cd60a9c8c0f..440efe79f96 100644
--- a/core/rootcling_stage1/src/rootcling_stage1.cxx
+++ b/core/rootcling_stage1/src/rootcling_stage1.cxx
@@ -10,7 +10,7 @@
 
 #include "rootcling_impl.h"
 #include "RConfigure.h"
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include <stdlib.h>
 
 extern "C" {
diff --git a/core/thread/inc/ThreadLocalStorage.h b/core/thread/inc/ThreadLocalStorage.h
index 99bf25292eb..51ee894adf1 100644
--- a/core/thread/inc/ThreadLocalStorage.h
+++ b/core/thread/inc/ThreadLocalStorage.h
@@ -61,7 +61,7 @@
 #include "RtypesCore.h"
 #endif
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #include "RConfigure.h"
 
diff --git a/core/unix/src/TUnixSystem.cxx b/core/unix/src/TUnixSystem.cxx
index e5ac06b2968..cad40f537ed 100644
--- a/core/unix/src/TUnixSystem.cxx
+++ b/core/unix/src/TUnixSystem.cxx
@@ -18,7 +18,7 @@
 //////////////////////////////////////////////////////////////////////////
 
 #include "RConfigure.h"
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "TUnixSystem.h"
 #include "TROOT.h"
 #include "TError.h"
diff --git a/graf2d/mathtext/src/fontembed.cxx b/graf2d/mathtext/src/fontembed.cxx
index cf38f693f90..4bfe6b17ba6 100644
--- a/graf2d/mathtext/src/fontembed.cxx
+++ b/graf2d/mathtext/src/fontembed.cxx
@@ -25,7 +25,7 @@
 #endif
 
 // ROOT integration
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #ifdef R__BYTESWAP
 #ifndef LITTLE_ENDIAN
 #define LITTLE_ENDIAN 1
diff --git a/graf2d/mathtext/src/fontembedps.cxx b/graf2d/mathtext/src/fontembedps.cxx
index 59a9996413b..0947f015b82 100644
--- a/graf2d/mathtext/src/fontembedps.cxx
+++ b/graf2d/mathtext/src/fontembedps.cxx
@@ -25,7 +25,7 @@
 #endif
 
 // ROOT integration
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #ifdef R__BYTESWAP
 #ifndef LITTLE_ENDIAN
 #define LITTLE_ENDIAN 1
diff --git a/io/gfal/src/TGFALFile.cxx b/io/gfal/src/TGFALFile.cxx
index c99d01b0849..fd2d458a606 100644
--- a/io/gfal/src/TGFALFile.cxx
+++ b/io/gfal/src/TGFALFile.cxx
@@ -44,7 +44,7 @@ Note that for the TGFALFile plugin to work, all these pathnames
 should be prepended by gfal:.
 */
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "TROOT.h"
 #include "TUrl.h"
 
diff --git a/io/io/src/TFile.cxx b/io/io/src/TFile.cxx
index 4c082f7930c..2500990c8e3 100644
--- a/io/io/src/TFile.cxx
+++ b/io/io/src/TFile.cxx
@@ -71,7 +71,7 @@ End_Macro
 The structure of a directory is shown in TDirectoryFile::TDirectoryFile
 */
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #ifdef R__LINUX
 // for posix_fadvise
diff --git a/main/src/hadd.cxx b/main/src/hadd.cxx
index a30f76e59a9..a0db30b0f8c 100644
--- a/main/src/hadd.cxx
+++ b/main/src/hadd.cxx
@@ -70,7 +70,7 @@
            Toby Burnett implemented the possibility to use indirect files.
  */
 #include "Compression.h"
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "ROOT/TIOFeatures.hxx"
 #include <string>
 #include "TFile.h"
diff --git a/main/src/pmain.cxx b/main/src/pmain.cxx
index 921cbd46ef6..168a136d87e 100644
--- a/main/src/pmain.cxx
+++ b/main/src/pmain.cxx
@@ -30,7 +30,7 @@
 #include <stdlib.h>
 #include <sys/types.h>
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "RConfigure.h"
 #ifdef R__AFS
 #include "TAFS.h"
diff --git a/main/src/rootcling.cxx b/main/src/rootcling.cxx
index 2d9660248a0..09aa0bd8ef7 100644
--- a/main/src/rootcling.cxx
+++ b/main/src/rootcling.cxx
@@ -12,7 +12,7 @@
 #include "rootclingIO.h"
 #include "rootcling_impl.h"
 #include "RConfigure.h"
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "TSystem.h"
 
 extern "C" {
diff --git a/misc/memstat/src/TMemStatHook.cxx b/misc/memstat/src/TMemStatHook.cxx
index 45f3f3736e4..e17d8347e6e 100644
--- a/misc/memstat/src/TMemStatHook.cxx
+++ b/misc/memstat/src/TMemStatHook.cxx
@@ -12,7 +12,7 @@
 #include <iostream>
 // MemStat
 #include "TMemStatHook.h"
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 // TODO: move it to a separate file
 #if defined(__APPLE__)
diff --git a/net/net/src/TApplicationServer.cxx b/net/net/src/TApplicationServer.cxx
index 1916f7bfafa..c57fa94f291 100644
--- a/net/net/src/TApplicationServer.cxx
+++ b/net/net/src/TApplicationServer.cxx
@@ -19,7 +19,7 @@
 //////////////////////////////////////////////////////////////////////////
 
 #include "RConfigure.h"
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "Riostream.h"
 
 #ifdef WIN32
diff --git a/net/net/src/TFTP.cxx b/net/net/src/TFTP.cxx
index 718ecba3d4b..85a29167e98 100644
--- a/net/net/src/TFTP.cxx
+++ b/net/net/src/TFTP.cxx
@@ -19,7 +19,7 @@
 //                                                                      //
 //////////////////////////////////////////////////////////////////////////
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #include <fcntl.h>
 #include <errno.h>
diff --git a/net/rpdutils/src/daemon.cxx b/net/rpdutils/src/daemon.cxx
index 90151846ea8..a3f65fae445 100644
--- a/net/rpdutils/src/daemon.cxx
+++ b/net/rpdutils/src/daemon.cxx
@@ -38,7 +38,7 @@
 #include <sys/wait.h>
 #endif
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #ifndef NOFILE
 #   define NOFILE 0
diff --git a/net/rpdutils/src/net.cxx b/net/rpdutils/src/net.cxx
index 84b1fc83ef9..981bfa18e96 100644
--- a/net/rpdutils/src/net.cxx
+++ b/net/rpdutils/src/net.cxx
@@ -17,7 +17,7 @@
 //                                                                      //
 //////////////////////////////////////////////////////////////////////////
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #include <stdio.h>
 #include <string.h>
diff --git a/net/rpdutils/src/netpar.cxx b/net/rpdutils/src/netpar.cxx
index 206c7438aac..00f759a6c9c 100644
--- a/net/rpdutils/src/netpar.cxx
+++ b/net/rpdutils/src/netpar.cxx
@@ -18,7 +18,7 @@
 //                                                                      //
 //////////////////////////////////////////////////////////////////////////
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 // avoid warning due to wrong bzero prototype (used by FD_ZERO macro)
 #include <stdio.h>
diff --git a/net/rpdutils/src/rpdconn.cxx b/net/rpdutils/src/rpdconn.cxx
index 7b3a2ad0f66..7fb6fa89414 100644
--- a/net/rpdutils/src/rpdconn.cxx
+++ b/net/rpdutils/src/rpdconn.cxx
@@ -32,7 +32,7 @@
 #include <sys/types.h>
 #include <sys/un.h>
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 #define RPD_MAXLEN 8192
 
diff --git a/net/rpdutils/src/rpdutils.cxx b/net/rpdutils/src/rpdutils.cxx
index b80190ab37a..a29ffed71e4 100644
--- a/net/rpdutils/src/rpdutils.cxx
+++ b/net/rpdutils/src/rpdutils.cxx
@@ -18,7 +18,8 @@
 //////////////////////////////////////////////////////////////////////////
 
 #include "RConfigure.h"
-#include <ROOT/RConfig.h>
+#include "TError.h"
+#include <ROOT/RConfig.hxx>
 
 #include <ctype.h>
 #include <fcntl.h>
diff --git a/proof/proof/src/TProofServ.cxx b/proof/proof/src/TProofServ.cxx
index 9868f9f0161..61d6c96c7b8 100644
--- a/proof/proof/src/TProofServ.cxx
+++ b/proof/proof/src/TProofServ.cxx
@@ -20,7 +20,7 @@ master server.
 */
 
 #include "RConfigure.h"
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "Riostream.h"
 
 #ifdef WIN32
diff --git a/proof/proof/src/TProofServLite.cxx b/proof/proof/src/TProofServLite.cxx
index e65e77e095e..b395c7e3482 100644
--- a/proof/proof/src/TProofServLite.cxx
+++ b/proof/proof/src/TProofServLite.cxx
@@ -30,7 +30,7 @@ eliminated, optimizing the number of messages exchanged and created / destroyed.
 //////////////////////////////////////////////////////////////////////////
 
 #include "RConfigure.h"
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "Riostream.h"
 
 #ifdef WIN32
diff --git a/proof/proofd/inc/XrdProofdPlatform.h b/proof/proofd/inc/XrdProofdPlatform.h
index 8c468964bc3..3fd8034ecf6 100644
--- a/proof/proofd/inc/XrdProofdPlatform.h
+++ b/proof/proofd/inc/XrdProofdPlatform.h
@@ -23,7 +23,7 @@
 //                                                                      //
 //////////////////////////////////////////////////////////////////////////
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 // 32 or 64 bits
 #if ((defined(__hpux) && defined(__LP64__)) || \
diff --git a/proof/proofx/src/TXProofServ.cxx b/proof/proofx/src/TXProofServ.cxx
index 46c8ab0d27f..5f7b450e462 100644
--- a/proof/proofx/src/TXProofServ.cxx
+++ b/proof/proofx/src/TXProofServ.cxx
@@ -18,7 +18,7 @@ for the underlying connection technology.
 */
 
 #include "RConfigure.h"
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "Riostream.h"
 
 #ifdef WIN32
diff --git a/roofit/roofitcore/inc/RooFit.h b/roofit/roofitcore/inc/RooFit.h
index 240cae4db44..0920855a7bd 100644
--- a/roofit/roofitcore/inc/RooFit.h
+++ b/roofit/roofitcore/inc/RooFit.h
@@ -16,7 +16,7 @@
 #ifndef ROO_FIT
 #define ROO_FIT
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 
 // Global include file to fix occasional compiler issues
 // An error in the construction of the system and C++ header files on
diff --git a/tree/dataframe/src/RSqliteDS.cxx b/tree/dataframe/src/RSqliteDS.cxx
index 0b7586a988f..fa168c9434d 100644
--- a/tree/dataframe/src/RSqliteDS.cxx
+++ b/tree/dataframe/src/RSqliteDS.cxx
@@ -17,7 +17,7 @@
 // clang-format on
 
 #include <ROOT/RSqliteDS.hxx>
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include <ROOT/RDF/Utils.hxx>
 #include <ROOT/RMakeUnique.hxx>
 
diff --git a/tree/dataframe/test/datasource_sqlite.cxx b/tree/dataframe/test/datasource_sqlite.cxx
index 73028008467..97004e94d7d 100644
--- a/tree/dataframe/test/datasource_sqlite.cxx
+++ b/tree/dataframe/test/datasource_sqlite.cxx
@@ -1,4 +1,4 @@
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include <ROOT/RDataFrame.hxx>
 #include <ROOT/RMakeUnique.hxx>
 #include <ROOT/RSqliteDS.hxx>
diff --git a/tree/tree/src/TTree.cxx b/tree/tree/src/TTree.cxx
index ffd238d3136..80ce55f3800 100644
--- a/tree/tree/src/TTree.cxx
+++ b/tree/tree/src/TTree.cxx
@@ -333,7 +333,7 @@ End_Macro
 ~~~
 */
 
-#include <ROOT/RConfig.h>
+#include <ROOT/RConfig.hxx>
 #include "TTree.h"
 
 #include "ROOT/TIOFeatures.hxx"
